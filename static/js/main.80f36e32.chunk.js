(this["webpackJsonpsession-clock"]=this["webpackJsonpsession-clock"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var s=n(8),i=n.n(s),r=n(20),c=n.n(r),o=n(17),a=n(31),u=n(32),l=n(5),b=Object(u.a)({id:"sessionClock",initial:"paused",context:{session_length:25,break_length:5,session_time:1500,break_time:300},states:{paused:{id:"paused",on:{INC_SESSION:{internal:!0,cond:function(e){return e.session_length<60},actions:"inc_session_length"},DEC_SESSION:{internal:!0,cond:function(e){return e.session_length>1},actions:"dec_session_length"},INC_BREAK:{internal:!0,cond:function(e){return e.break_length<60},actions:"inc_break_length"},DEC_BREAK:{internal:!0,cond:function(e){return e.break_length>1},actions:"dec_break_length"},RESET:{actions:"reset"},START:"counting.hist"}},counting:{id:"counting",initial:"session",states:{session:{invoke:{src:"session_timer"},always:{target:"break",cond:function(e){return e.session_time<0}},exit:"rewind_break"},break:{invoke:{src:"break_timer"},always:{target:"session",cond:function(e){return e.break_time<0}},exit:"rewind_session"},hist:{type:"history"}},on:{PAUSE:"paused",DEC_SESSION_TIME:{actions:"dec_session_time"},DEC_BREAK_TIME:{actions:"dec_break_time"},RESET:{target:["counting.session"],actions:[Object(l.k)("PAUSE"),"reset"]}}}}},{actions:{reset:Object(l.b)({session_length:25,break_length:5,session_time:1500,break_time:300}),inc_session_length:Object(l.b)({session_time:function(e){return 60*(e.session_length+1)},session_length:function(e){return e.session_length+1}}),dec_session_length:Object(l.b)({session_time:function(e){return 60*(e.session_length-1)},session_length:function(e){return e.session_length-1}}),inc_break_length:Object(l.b)({break_time:function(e){return 60*(e.break_time+1)},break_length:function(e){return e.break_length+1}}),dec_break_length:Object(l.b)({break_time:function(e){return 60*(e.break_time-1)},break_length:function(e){return e.break_length-1}}),rewind_session:Object(l.b)({session_time:function(e){return 60*e.session_length}}),rewind_break:Object(l.b)({break_time:function(e){return 60*e.break_length}}),dec_session_time:Object(l.b)({session_time:function(e){return e.session_time-=1}}),dec_break_time:Object(l.b)({break_time:function(e){return e.break_time-=1}})},services:{session_timer:function(e,t){return function(e,t){var n=setInterval((function(){return e("DEC_SESSION_TIME")}),1e3);return function(){return clearInterval(n)}}},break_timer:function(e,t){return function(e,t){var n=setInterval((function(){return e("DEC_BREAK_TIME")}),1e3);return function(){return clearInterval(n)}}}}}),_=n(4);function d(e){var t=e.state;return Object(_.jsx)("span",{id:"time-left",children:h(function(){var e=t.context.session_time;return"paused"===t.value&&t.historyValue&&(e="break"===t.historyValue.states.counting.current?t.context.break_time:t.context.session_time),"break"===t.value.counting&&(e=t.context.break_time),e}())})}function h(e){var t=(e%60).toString(),n=3600===e?60:Math.floor(e/60%60).toString();return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),(n+":"+t).replace(/-1:-1/,"00:00")}function j(){return Object(_.jsx)("footer",{children:Object(_.jsxs)("p",{children:["Marco Costa 2021. The ",Object(_.jsx)("a",{href:"https://github.com/marcocosta1618/Session-Clock",target:"_blank",rel:"noreferrer",children:"code of this app"})," is hosted at GitHub. Functional model of the ",Object(_.jsx)("a",{href:"https://xstate.js.org/viz/?gist=8ee2c8d13d3863ac307f57535e0e84ca",target:"_blank",rel:"noreferrer",children:"calculator's state machine"})," on ",Object(_.jsx)("a",{href:"https://xstate.js.org/viz/",target:"_blank",rel:"noreferrer",children:"Xstate Visualizer"}),"."]})})}n(27);var g=function(){var e=Object(a.a)(b),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(s.useState)(!1),c=Object(o.a)(r,2),u=c[0],l=c[1];Object(s.useEffect)((function(){"paused"===n.value&&u&&l(!1)}),[n.value,u]),Object(s.useEffect)((function(){0!==n.context.session_time&&0!==n.context.break_time||function(){var e=h.current;e.currentTime=0;var t=e.play();void 0!==t&&t.then((function(e){})).catch((function(e){console.log(e)}))}()}),[n.context.session_time,n.context.break_time]);var h=Object(s.useRef)(null);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"Session Clock"}),Object(_.jsxs)("div",{className:"app-container",children:[Object(_.jsxs)("div",{className:"settings",children:[Object(_.jsxs)("div",{className:"session-settings",children:[Object(_.jsx)("button",{id:"session-increment",onClick:function(){return i({type:"INC_SESSION"})},children:"increment"}),Object(_.jsxs)("div",{id:"session-label",children:["SESSION LENGTH:",Object(_.jsx)("span",{id:"session-length",children:n.context.session_length})]}),Object(_.jsx)("button",{id:"session-decrement",onClick:function(){return i({type:"DEC_SESSION"})},children:"decrement"})]}),Object(_.jsxs)("div",{className:"break-settings",children:[Object(_.jsx)("button",{id:"break-increment",onClick:function(){return i({type:"INC_BREAK"})},children:"increment"}),Object(_.jsxs)("div",{id:"break-label",children:["BREAK LENGTH:",Object(_.jsx)("span",{id:"break-length",children:n.context.break_length})]}),Object(_.jsx)("button",{id:"break-decrement",onClick:function(){return i({type:"DEC_BREAK"})},children:"decrement"})]})]}),Object(_.jsxs)("span",{id:"timer-label",children:[" ",n.value.hasOwnProperty("counting")?"session"===n.value.counting?"SESSION":"BREAK":"STOP"]}),Object(_.jsx)(d,{state:n}),Object(_.jsxs)("div",{className:"startStopReset",children:[Object(_.jsxs)("button",{id:"start_stop",onClick:function(){u?(i({type:"PAUSE"}),l(!1)):(i({type:"START"}),l(!0))},children:[" ",u?"STOP":"START"]}),Object(_.jsx)("button",{id:"reset",onClick:function(){var e=h.current;e.pause(),e.currentTime=0,i({type:"RESET"})},children:" RESET"})]})]}),Object(_.jsx)(j,{}),Object(_.jsx)("audio",{id:"beep",ref:h,src:"./sounds/gongCsharp7.wav"})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),i(e),r(e),c(e)}))};c.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(g,{})}),document.getElementById("root")),f()}},[[28,1,2]]]);
//# sourceMappingURL=main.80f36e32.chunk.js.map